
.Crowd setup
[width="100%",cols="16%,11%,73%",options="header",]
|===
|Parameter label (name) |Default value|Description|Version *
(`CrowdVersion`)|`4.0.0`|The version of Crowd Software to install. Find valid versions on the Crowd Release Notes page (https://confluence.atlassian.com/x/tgkD).
|===
.Cluster nodes
[width="100%",cols="16%,11%,73%",options="header",]
|===
|Parameter label (name) |Default value|Description|Enable CloudWatch integration
(`CloudWatchIntegration`)|`Metrics and Logs`|Enables CloudWatch metrics with or without log gathering. If cost is an issue, you can disable this setting.|Cluster node instance type
(`ClusterNodeInstanceType`)|`c5.xlarge`|Instance type for the cluster application nodes.|Maximum number of cluster nodes
(`ClusterNodeMax`)|`1`|Maximum number of nodes in cluster.|Minimum number of cluster nodes
(`ClusterNodeMin`)|`1`|Set to 1 for new deployment. Can be updated post launch.|Cluster node instance volume size
(`ClusterNodeVolumeSize`)|`50`|Size of cluster node root volume in GB (size based on application indexes x 4).|Deployment automation Git repository URL
(`DeploymentAutomationRepository`)|`https://bitbucket.org/atlassian/dc-deployments-automation.git`|The deployment automation repository to use for per-node initialization. Leave the default setting unless you have customizations.|Deployment automation branch
(`DeploymentAutomationBranch`)|`master`|The deployment automation repository branch to pull from.|Ansible playbook to invoke to initialize the instance
(`DeploymentAutomationPlaybook`)|`aws_crowd_dc_node.yml`|The Ansible playbook to invoke to initialise the Crowd node on first start.|SSH key name to use with repository
(`DeploymentAutomationKeyName`)|`**__Blank string__**`|(Optional) Key pair name to use with this repository. The key should be imported into the AWS Systems Manager parameter store.|Custom command-line parameters for Ansible
(`DeploymentAutomationCustomParams`)|`**__Blank string__**`|(Optional) Additional command-line options for the `ansible-playbook` command. See https://bitbucket.org/atlassian/dc-deployments-automation/src/master/README.md for more information about overriding parameters.
|===
.Database
[width="100%",cols="16%,11%,73%",options="header",]
|===
|Parameter label (name) |Default value|Description|Database instance class
(`DBInstanceClass`)|`db.m5.large`|RDS instance type.|Amazon RDS Provisioned IOPS
(`DBIops`)|`1000`|Must be in the range of 1000 - 30000 and a multiple of 1000. This value is used only with Provisioned IOPS. The ratio of IOPS per allocated storage must be between 3.00 and 10.00.|Master (admin) password *
(`DBMasterUserPassword`)|`**__Requires input__**`|Password for the master ('postgres') account. Must be at least eight characters and include one uppercase, one lowercase, one number, and one of the following symbols: ! # $ { * : [ = , ] - _ + % &|Enable RDS Multi-AZ deployment
(`DBMultiAZ`)|`true`|Whether to provision a Multi-AZ Amazon RDS instance.|Application user database password *
(`DBPassword`)|`**__Requires input__**`|Must be at least eight characters and include at least one uppercase, one lowercase, one number, and any symbol except for: [ ] { }.|Database storage
(`DBStorage`)|`200`|Database allocated storage size, in gigabytes (GB). If you choose Provisioned IOPS, storage should be between 100 and 6144 GB.|Database encryption
(`DBStorageEncrypted`)|`false`|Whether or not to encrypt the database.|Database storage type
(`DBStorageType`)|`General Purpose (SSD)`|Database storage type.
|===
.Bastion host provisioning
[width="100%",cols="16%,11%,73%",options="header",]
|===
|Parameter label (name) |Default value|Description|Deploy bastion host
(`BastionHostRequired`)|`true`|Whether to provision a bastion host instance. If 'true', provide an Amazon EC2 key pair (otherwise, you won't be able to use the bastion host to access Crowd instances).|SSH key pair name
(`KeyPairName`)|`**__Blank string__**`|Public/private EC2 Key Pairs (without file extension) to allow you to securely access the Bastion host.
|===
.Networking
[width="100%",cols="16%,11%,73%",options="header",]
|===
|Parameter label (name) |Default value|Description|Trusted IP range
(`AccessCIDR`)|`**__Requires input__**`|CIDR block allowed to access the Atlassian product. Do not set the value to a trusted IP range. If you want to give public access use '0.0.0.0/0'.|Availability Zones
(`AvailabilityZones`)|`**__Requires input__**`|List of Availability Zones (AZ) to use for the subnets in the VPC. You must specify two AZs. If more are specified, only the first two AZs are used.|Make instance internet facing
(`InternetFacingLoadBalancer`)|`true`|Controls whether the load balancer should be visible to the internet (true) or only within the VPC (false).|AZ1 private IP address block
(`PrivateSubnet1CIDR`)|`10.0.0.0/19`|CIDR block for private subnet 1 located in Availability Zone 1.|AZ2 private IP address block
(`PrivateSubnet2CIDR`)|`10.0.32.0/19`|CIDR block for private subnet 2 located in Availability Zone 2.|AZ1 public IP address block
(`PublicSubnet1CIDR`)|`10.0.128.0/20`|CIDR block for the public DMZ subnet 1 located in Availability Zone 1.|AZ2 public IP address block
(`PublicSubnet2CIDR`)|`10.0.144.0/20`|CIDR block for the public DMZ subnet 2 located in Availability Zone 2.|SSL certificate ARN
(`SSLCertificateARN`)|`**__Blank string__**`|Amazon Resource Name (ARN) of your SSL certificate. This value automatically enables HTTPS on the product and load balancer, configured to use the corresponding certificate. If you want to use your own certificate that was generated outside of Amazon, first import it to AWS Certificate Manager (ACM). After a successful import, you'll receive the ARN. If you want to create a certificate with ACM, you will receive the ARN after it's successfully created.|IP address block for VPC
(`VPCCIDR`)|`10.0.0.0/16`|CIDR block for the VPC.
|===
.DNS (Optional)
[width="100%",cols="16%,11%,73%",options="header",]
|===
|Parameter label (name) |Default value|Description|Existing DNS name
(`CustomDnsName`)|`**__Blank string__**`|Use custom existing DNS name for your Crowd Data Center instance. Name takes precedence over hosted zone. You must own the domain and configure it to point to the load balancer.|Route 53 hosted zone
(`HostedZone`)|`**__Blank string__**`|The domain name of the Amazon Route 53 private hosted zone in which to create CNAMEs.
|===
.Application Tuning (Optional)
[width="100%",cols="16%,11%,73%",options="header",]
|===
|Parameter label (name) |Default value|Description|Tomcat context path
(`TomcatContextPath`)|`**__Blank string__**`|The context path of this web application, which is matched against the beginning of each request URI to select the appropriate web application for processing. If used, must include leading '/'.|Catalina options
(`CatalinaOpts`)|`**__Blank string__**`|Pass in additional JVM options to tune Catalina.|JVM heap size override
(`JvmHeapOverride`)|`**__Blank string__**`|Override the default amount of memory to allocate to the JVM for your instance type. Set size in MB or GB (e.g. 1024 MB or 1 GB).|Enable app to process email
(`MailEnabled`)|`true`|Enable mail processing and sending.|Tomcat accept count
(`TomcatAcceptCount`)|`10`|The maximum queue length for incoming connection requests when all possible request processing threads are in use.|Tomcat connection timeout
(`TomcatConnectionTimeout`)|`20000`|The number of milliseconds this connector will wait, after accepting a connection, for the request URI line to be presented.|Tomcat default connector port
(`TomcatDefaultConnectorPort`)|`8080`|The port on which to serve the application.|Tomcat enable DNS lookups
(`TomcatEnableLookups`)|`false`|Set to true if you want calls to request.getRemoteHost() to perform DNS lookups to return the host name of the remote client.|Tomcat maximum threads
(`TomcatMaxThreads`)|`200`|The maximum number of request processing threads to be created by this connector, which therefore determines the maximum number of simultaneous requests that can be handled.|Tomcat minimum spare threads
(`TomcatMinSpareThreads`)|`10`|The minimum number of threads always running.|Tomcat protocol
(`TomcatProtocol`)|`HTTP/1.1`|Sets the protocol to handle incoming traffic.|Tomcat redirect port
(`TomcatRedirectPort`)|`8443`|The port number for Catalina to use when automatically redirecting a non-SSL connector actioning a redirect to a SSL URI.
|===
.AWS Quick Start Configuration
[width="100%",cols="16%,11%,73%",options="header",]
|===
|Parameter label (name) |Default value|Description|Quick Start S3 bucket name
(`QSS3BucketName`)|`aws-quickstart`|S3 bucket name for the Quick Start assets. Quick Start bucket name can include numbers, lowercase letters, uppercase letters, and hyphens (-). It cannot start or end with a hyphen (-).|Quick Start S3 bucket Region
(`QSS3BucketRegion`)|`us-east-1`|The AWS Region where the Quick Start S3 bucket is hosted. By default, this is set to us-east-1; do not update it unless you're using a custom Quick Start S3 bucket.|Quick Start S3 key prefix
(`QSS3KeyPrefix`)|`quickstart-atlassian-crowd/`|S3 key prefix for the Quick Start assets. Quick Start key prefix can include numbers, lowercase letters, uppercase letters, hyphens (-), and forward slash (/).|ASI identifier
(`ExportPrefix`)|`ATL-`|Identifier used in all variables (VPCID, SubnetIDs, KeyName) exported from this deployment's Atlassian Standard Infrastructure (ASI). Use different identifiers if deploying multiple ASTs in the same AWS Region.
|===